<!DOCTYPE html>
<html>
<head>
  <base target="_top">
</head>

<body>
  <h2>Đăng nhập</h2>

  <label>Username:</label>
  <input id="username">

  <label>Password:</label>
  <input type="password" id="password">

  <label>
    <input type="checkbox" id="remember"> Ghi nhớ
  </label>

  <button onclick="doLogin()">Login</button>

  <script>
    function doLogin() {
      const u = username.value;
      const p = password.value;
      const r = remember.checked;

      google.script.run
        .withSuccessHandler(function(res) {
          if (res.success) {
            localStorage.setItem("session_token", res.token);
            window.location.href = "?page=dashboard";
          } else {
            alert(res.message);
          }
        })
        .login(u, p, r);
    }
  </script>
</body>
</html>
