<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Dashboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <script src="auth.js"></script>
</head>
<body onload="init()">
  <h2>Dashboard</h2>
  <p id="welcome">Đang kiểm tra phiên...</p>

  <nav>
    <a href="profile.html">Xem hồ sơ</a> |
    <a href="#" onclick="logout(); return false;">Logout</a>
  </nav>

  <script>
    async function init() {
      const username = await checkLogin();
      if (!username) return; // checkLogin redirects if not valid

      // show welcome (username may be returned from validate)
      document.getElementById("welcome").innerText = "Chào mừng, " + (username === true ? "" : username);
    }
  </script>
</body>
</html>
